<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>javascript 克隆对象/数组的对象 clone()</title>
</head>
<body>
    <div>
        <h1>javascript 克隆对象/数组的方法 clone()</h1>
    </div>
    <script>
        var Obj;
        let clone = (Obj) => {
            var buf;
            if (Obj instanceof Array) {
                buf = []; //创建一个空的数组
                var i = Obj.length;
                while (i--) {
                    buf[i] = clone(Obj[i]);
                    console.log(`Array buf[k] = ${buf[i]}`);
                    console.log(`Array buf[k] = ${buf[i]}`);
                }
                console.log(`Array = ${buf}`);
                return buf;
            }else if(Obj instanceof Object){
                buf = {}; //创建一个空对象
                for (var k in Obj) { 
                    //为这个对象添加新的属性
                    buf[k] = clone(Obj[k]);
                    console.log(`Object buf[k] = ${buf[k]}`);
                }
                console.log(`Object = ${buf}`);
                return buf;
            }else {
                console.log(`Other = ${Obj}`);
                return Obj;
            }
        }
        let obj = {name: "xgqfrms", age: 23}
        // let arr = [{name: "xgqfrms"},{age: 23}];
        let arr = ["name", "xgqfrms", "age", 23];
        let str = `xgqfrms`;

        let o = clone(obj);
        console.log(`\n\nTest obj = ${o}`);

        let a = clone(arr);
        console.log(`\n\nTest arr = ${a}`);

        let s = clone(str);
        console.log(`\n\nTest str = ${s}`);
   </script>
</body>
</html>